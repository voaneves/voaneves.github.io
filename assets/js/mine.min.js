!function(){var e=document.getElementById("mine-grid"),t=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<"601"?"5":"10",r="10"===t?"20":"5",n=!0;const a=document.querySelector(".refresh");function i(){e.innerHTML="";for(var a=0;a<t;a++){row=e.insertRow(a);for(var i=0;i<t;i++){cell=row.insertCell(i),cell.addEventListener("contextmenu",(function(e){return e.preventDefault(),l(this),!1}),!1),cell.addEventListener("click",(function(){c(this)}));var o=document.createAttribute("data-mine");o.value="false",cell.setAttributeNode(o)}}!function(){for(var n=0;n<r;n++){var a=Math.floor(Math.random()*t),i=Math.floor(Math.random()*t);e.rows[a].cells[i].setAttribute("data-mine","true")}}(),n=!0}function o(){for(var r=0;r<t;r++)for(var a=0;a<t;a++){var i=e.rows[r].cells[a];"true"==i.getAttribute("data-mine")&&(i.className="mine")}n=!1}function l(e){e.className="right-clicked"}function c(r){if("true"==r.getAttribute("data-mine"))o();else if(0!=n){r.className="clicked";for(var a=0,i=r.parentNode.rowIndex,l=r.cellIndex,s=Math.max(i-1,0);s<=Math.min(i+1,t-1);s++)for(var d=Math.max(l-1,0);d<=Math.min(l+1,t-1);d++)"true"==e.rows[s].cells[d].getAttribute("data-mine")&&a++;if(r.innerHTML=a,0==a)for(s=Math.max(i-1,0);s<=Math.min(i+1,t-1);s++)for(d=Math.max(l-1,0);d<=Math.min(l+1,t-1);d++)""==e.rows[s].cells[d].innerHTML&&c(e.rows[s].cells[d]);!function(){for(var r=!0,n=0;n<t;n++)for(var a=0;a<t;a++)"false"==e.rows[n].cells[a].getAttribute("data-mine")&&""==e.rows[n].cells[a].innerHTML&&(r=!1);r&&o()}()}}i(),a.addEventListener("click",i)}();
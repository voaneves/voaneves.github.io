function init(){checkAPISupport(),initEventHandlers(),initTheme()}function checkAPISupport(){"IntersectionObserver"in window||console.log("No IntersectionObserver API, website may behave strangely.")}function initEventHandlers(){const e=document.querySelectorAll(".control"),t=document.querySelectorAll("section"),n=document.querySelectorAll(".hidden"),o=document.querySelector(".arrow-up"),c=new IntersectionObserver(n=>{n.forEach(n=>{if("section"===n.target.tagName.toLowerCase()){if(n.isIntersecting){const o=Array.from(t).indexOf(n.target);document.querySelector(".active-btn").classList.remove("active-btn"),e[o].classList.add("active-btn")}}else n.target.classList.toggle("show",n.isIntersecting||n.intersectionRatio>0)})});t.forEach(e=>c.observe(e)),n.forEach(e=>c.observe(e)),document.addEventListener("click",e=>{e.target.matches(".control")?toggleSidebar():e.target.matches(".sidebar-toggle")?toggleSidebar():e.target.matches("#theme")&&toggleTheme()}),window.addEventListener("scroll",()=>{o.style.opacity=(window.pageYOffset||document.documentElement.scrollTop)>150?1:0},{passive:!0})}function initTheme(){const e=document.getElementById("theme");window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("click",toggleTheme)}function toggleTheme(){const e=window.matchMedia("(prefers-color-scheme: dark)");document.body.classList.toggle(e.matches?"light-mode":"dark-mode")}function toggleSidebar(){const e=document.querySelector(".sidebar");e.classList.toggle("open")}const width=window.screen.width||document.documentElement.clientWidth||document.body.clientWidth,height=window.screen.height||document.documentElement.clientHeight||document.body.clientHeight;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",init):init();
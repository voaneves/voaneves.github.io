const statusDisplay=document.querySelector(".status"),englishOrNot=document.location.href.search("en");let winningMessage,drawMessage,currentPlayerTurn,gameActive=!0,currentPlayer="X",gameState=["","","","","","","","",""];"-1"!=englishOrNot?(winningMessage=function(){return`Player ${currentPlayer} won`},drawMessage=function(){return"It was a draw!"},currentPlayerTurn=function(){return`It's ${currentPlayer} turn`}):(winningMessage=function(){return`O jogador ${currentPlayer} venceu`},drawMessage=function(){return"Deu empate!"},currentPlayerTurn=function(){return`Ã‰ a vez do ${currentPlayer}`}),statusDisplay.innerHTML=currentPlayerTurn();const winningConditions=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function handleCellPlayed(e,n){gameState[n]=currentPlayer,e.innerHTML=currentPlayer}function handlePlayerChange(){currentPlayer="X"===currentPlayer?"O":"X",statusDisplay.innerHTML=currentPlayerTurn()}function handleResultValidation(){let e=!1;for(let n=0;n<=7;n++){const t=winningConditions[n];let r=gameState[t[0]],a=gameState[t[1]],l=gameState[t[2]];if(""!==r&&""!==a&&""!==l&&(r===a&&a===l)){e=!0;break}}return e?(statusDisplay.innerHTML=winningMessage(),void(gameActive=!1)):gameState.includes("")?void handlePlayerChange():(statusDisplay.innerHTML=drawMessage(),void(gameActive=!1))}function handleCellClick(e){const n=e.target,t=parseInt(n.getAttribute("data-cell-index"));""===gameState[t]&&gameActive&&(handleCellPlayed(n,t),handleResultValidation())}function handleRestartGame(){gameActive=!0,currentPlayer="X",gameState=["","","","","","","","",""],statusDisplay.innerHTML=currentPlayerTurn(),document.querySelectorAll(".cell").forEach((e=>e.innerHTML=""))}document.querySelectorAll(".cell").forEach((e=>e.addEventListener("click",handleCellClick))),document.querySelector(".restart").addEventListener("click",handleRestartGame);